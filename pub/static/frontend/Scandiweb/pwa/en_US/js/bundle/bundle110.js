require.config({"config": {
        "jsbuild":{"Magento_AuthorizenetAcceptjs/js/view/payment/method-renderer/authorizenet-accept.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'Magento_Payment/js/view/payment/cc-form',\n    'Magento_AuthorizenetAcceptjs/js/view/payment/acceptjs-client',\n    'Magento_Checkout/js/model/full-screen-loader',\n    'Magento_Ui/js/model/messageList',\n    'Magento_Payment/js/model/credit-card-validation/validator'\n], function ($, Component, AcceptjsClient, fullScreenLoader, globalMessageList) {\n    'use strict';\n\n    return Component.extend({\n        defaults: {\n            active: false,\n            template: 'Magento_AuthorizenetAcceptjs/payment/authorizenet-acceptjs',\n            tokens: null,\n            ccForm: 'Magento_Payment/payment/cc-form',\n            acceptjsClient: null\n        },\n\n        /**\n         * Set list of observable attributes\n         *\n         * @returns {exports.initObservable}\n         */\n        initObservable: function () {\n            this._super()\n                .observe(['active']);\n\n            return this;\n        },\n\n        /**\n         * @returns {String}\n         */\n        getCode: function () {\n            return 'authorizenet_acceptjs';\n        },\n\n        /**\n         * Initialize form elements for validation\n         */\n        initFormElement: function (element) {\n            this.formElement = element;\n            this.acceptjsClient = AcceptjsClient({\n                environment: window.checkoutConfig.payment[this.getCode()].environment\n            });\n            $(this.formElement).validation();\n        },\n\n        /**\n         * @returns {Object}\n         */\n        getData: function () {\n            return {\n                method: this.getCode(),\n                'additional_data': {\n                    opaqueDataDescriptor: this.tokens ? this.tokens.opaqueDataDescriptor : null,\n                    opaqueDataValue: this.tokens ? this.tokens.opaqueDataValue : null,\n                    ccLast4: this.creditCardNumber().substr(-4)\n                }\n            };\n        },\n\n        /**\n         * Check if payment is active\n         *\n         * @returns {Boolean}\n         */\n        isActive: function () {\n            var active = this.getCode() === this.isChecked();\n\n            this.active(active);\n\n            return active;\n        },\n\n        /**\n         * Prepare data to place order\n         */\n        beforePlaceOrder: function () {\n            var authData = {},\n                cardData = {},\n                secureData = {};\n\n            if (!$(this.formElement).valid()) {\n                return;\n            }\n\n            authData.clientKey = window.checkoutConfig.payment[this.getCode()].clientKey !== null ?\n                window.checkoutConfig.payment[this.getCode()].clientKey : '';\n            authData.apiLoginID = window.checkoutConfig.payment[this.getCode()].apiLoginID !== null ?\n                window.checkoutConfig.payment[this.getCode()].apiLoginID : '';\n\n            cardData.cardNumber = this.creditCardNumber();\n            cardData.month = this.creditCardExpMonth();\n            cardData.year = this.creditCardExpYear();\n\n            if (this.hasVerification()) {\n                cardData.cardCode = this.creditCardVerificationNumber();\n            }\n\n            secureData.authData = authData;\n            secureData.cardData = cardData;\n\n            fullScreenLoader.startLoader();\n\n            this.acceptjsClient.createTokens(secureData)\n                .always(function () {\n                    fullScreenLoader.stopLoader();\n                })\n                .done(function (tokens) {\n                    this.tokens = tokens;\n                    this.placeOrder();\n                }.bind(this))\n                .fail(function (messages) {\n                    this.tokens = null;\n                    this._showErrors(messages);\n                }.bind(this));\n        },\n\n        /**\n         * Should the cvv field be used\n         *\n         * @return {Boolean}\n         */\n        hasVerification: function () {\n            return window.checkoutConfig.payment[this.getCode()].useCvv;\n        },\n\n        /**\n         * Show error messages\n         *\n         * @param {String[]} errorMessages\n         */\n        _showErrors: function (errorMessages) {\n            $.each(errorMessages, function (index, message) {\n                globalMessageList.addErrorMessage({\n                    message: message\n                });\n            });\n        }\n    });\n});\n"}
}});
